<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio Diagnostics</title>
  <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
  <script src="./js/load_nav.js"></script>

  <main class="container">
    <header class="header">
      <h1>Portfolio Diagnostics</h1>
      <div class="controls">
        <button id="refreshBtn">Refresh</button>
        <a id="downloadJson" href="./data/portfolio_diagnostics.json" download>Download JSON</a>
      </div>
    </header>

    <section class="cards">
      <div class="card">
        <h2>Momentum</h2>
        <div class="metric-row">
          <div class="metric-value" id="momentum_signal_strength">—</div>
          <div class="metric-bar-wrap"><div id="momentum_bar" class="metric-bar"></div></div>
        </div>
        <div class="metric-note">Signal strength ranges approx. -1 to +1.</div>
      </div>

      <div class="card">
        <h2>Forward P/E Implied Upside</h2>
        <div class="metric-row"><div class="metric-value" id="forward_pe_implied_upside">—</div><div class="metric-note">Shown as %</div></div>
      </div>

      <div class="card">
        <h2>Weighted Dividend Yield</h2>
        <div class="metric-row"><div class="metric-value" id="weighted_dividend_yield">—</div><div class="metric-note">Raw value from JSON</div></div>
      </div>

      <div class="card">
        <h2>Turnover</h2>
        <div class="metric-row"><div class="metric-value" id="turnover">—</div><div class="metric-note">Shown as %</div></div>
      </div>

      <div class="card">
        <h2>Liquidity Score</h2>
        <div class="metric-row"><div class="metric-value" id="liquidity_score">—</div><div class="metric-note">Higher is more liquid</div></div>
      </div>

      <div class="card">
        <h2>Tracking Error</h2>
        <div class="metric-row"><div class="metric-value" id="tracking_error">—</div><div class="metric-note">Shown as %</div></div>
      </div>

      <div class="card">
        <h2>Information Ratio</h2>
        <div class="metric-row"><div class="metric-value" id="information_ratio">—</div><div class="metric-note">Raw value</div></div>
      </div>
    </section>

    <footer class="footer">
      <small>Auto-refresh every <span id="interval">10</span>s — last fetch: <span id="lastFetch">—</span></small>
    </footer>
  </main>

  <script src="./js/portfolio_diagnostics.js"></script>
</body>
</html>
