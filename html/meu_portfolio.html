<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Meu Portfolio - Investimentos Reais</title>
  <link rel="stylesheet" href="./css/styles.css">
  <!-- Auth script - carrega primeiro para bloquear conte√∫do -->
  <script src="./js/auth.js"></script>
</head>
<body>
  <script src="./js/load_nav.js"></script>

  <main class="container">
    <header class="header">
      <h1>Meu Portfolio</h1>
      <div class="controls">
        <button id="refreshBtn">Atualizar</button>
        <a id="downloadJson" href="data/ledger_positions.json" download>Download JSON</a>
      </div>
    </header>

    <!-- Meta info -->
    <section id="meta" class="card">
      <div class="meta-row"><small class="meta-footnote">√öltima atualiza√ß√£o: <span id="lastUpdated">‚Äî</span></small></div>
      <div class="meta-row"><small class="meta-footnote">Notas processadas: <span id="notesCount">‚Äî</span></small></div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SE√á√ÉO 1: RESUMO DO PORTFOLIO
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="resumo" class="card">
      <h2>Resumo do Portfolio</h2>
      <div class="portfolio-summary-grid">
        <div class="summary-card">
          <div class="summary-label">Total Investido</div>
          <div class="summary-value" id="totalInvested">‚Äî</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Valor Atual</div>
          <div class="summary-value" id="totalCurrent">‚Äî</div>
        </div>
        <div class="summary-card highlight">
          <div class="summary-label">Lucro/Preju√≠zo</div>
          <div class="summary-value" id="totalPL">‚Äî</div>
          <div class="summary-sub" id="totalPLPct">‚Äî</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Posi√ß√µes Abertas</div>
          <div class="summary-value" id="positionsCount">‚Äî</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Total Opera√ß√µes</div>
          <div class="summary-value" id="transactionsCount">‚Äî</div>
        </div>
      </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SE√á√ÉO 2: EVOLU√á√ÉO DO PATRIM√îNIO
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="evolucao" class="card">
      <h2>Evolu√ß√£o do Patrim√¥nio</h2>
      <div class="chart-controls">
        <button class="range-btn active" data-range="all">Todo Per√≠odo</button>
        <button class="range-btn" data-range="3m">3 Meses</button>
        <button class="range-btn" data-range="1m">1 M√™s</button>
      </div>
      <div class="portfolio-evolution-chart">
        <canvas id="portfolioEvolutionChart" height="300"></canvas>
      </div>
      <div class="chart-legend">
        <div class="legend-item"><span class="legend-dot blue"></span> Valor de Mercado</div>
        <div class="legend-item"><span class="legend-dot green"></span> Custo Base</div>
        <div class="legend-item"><span class="legend-dot orange"></span> Lucro/Preju√≠zo</div>
      </div>
    </section>

    <section id="projecao" class="card">
      <h2>Proje√ß√£o Futura (Target Price)</h2>
      <div class="projection-grid">
        <div class="projection-card">
          <div class="projection-icon">üìà</div>
          <div class="projection-content">
            <div class="projection-label">Valor Projetado</div>
            <div class="projection-value" id="projectedValue">‚Äî</div>
            <div class="projection-desc">Baseado nos target prices dos analistas</div>
          </div>
        </div>
        <div class="projection-card highlight-green">
          <div class="projection-icon">üéØ</div>
          <div class="projection-content">
            <div class="projection-label">Upside Esperado</div>
            <div class="projection-value" id="projectedUpside">‚Äî</div>
            <div class="projection-desc">Potencial de valoriza√ß√£o</div>
          </div>
        </div>
        <div class="projection-card">
          <div class="projection-icon">üí∞</div>
          <div class="projection-content">
            <div class="projection-label">Lucro Projetado</div>
            <div class="projection-value" id="projectedProfit">‚Äî</div>
            <div class="projection-desc">Ganho esperado vs. investido</div>
          </div>
        </div>
      </div>
      <div class="projection-disclaimer">
        <small>‚ö†Ô∏è Proje√ß√µes baseadas em target prices de analistas. Valores sujeitos a varia√ß√µes de mercado.</small>
      </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SE√á√ÉO 3: POSI√á√ïES ATUAIS
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="posicoes" class="card">
      <h2>Posi√ß√µes Atuais</h2>
      <div class="table-responsive">
        <table id="positionsTable">
          <thead>
            <tr>
              <th>Ativo</th>
              <th>Qtd</th>
              <th>Pre√ßo M√©dio</th>
              <th>Pre√ßo Atual</th>
              <th>Target Price</th>
              <th>Investido</th>
              <th>Valor Atual</th>
              <th>L/P</th>
              <th>Upside</th>
              <th>Peso</th>
            </tr>
          </thead>
          <tbody id="positionsBody"></tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SE√á√ÉO 4: ALOCA√á√ÉO
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="alocacao" class="card">
      <h2>Aloca√ß√£o do Portfolio</h2>
      <div class="allocation-container">
        <div class="allocation-chart">
          <canvas id="allocationChart" width="300" height="300"></canvas>
        </div>
        <div class="allocation-legend" id="allocationLegend"></div>
      </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SE√á√ÉO 5: HIST√ìRICO DE TRANSA√á√ïES
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="historico" class="card">
      <h2>Hist√≥rico de Transa√ß√µes</h2>
      <div class="transactions-filters">
        <button class="filter-btn active" data-filter="all">Todas</button>
        <button class="filter-btn" data-filter="buy">Compras</button>
        <button class="filter-btn" data-filter="sell">Vendas</button>
      </div>
      <div class="table-responsive">
        <table id="transactionsTable">
          <thead>
            <tr>
              <th>Data</th>
              <th>Ativo</th>
              <th>Tipo</th>
              <th>Qtd</th>
              <th>Pre√ßo Unit.</th>
              <th>Valor Total</th>
              <th>Taxas</th>
            </tr>
          </thead>
          <tbody id="transactionsBody"></tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SE√á√ÉO 6: RECOMENDA√á√ÉO OTIMIZADA (Script C)
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="recomendacao-otimizada" class="card">
      <h2>üéØ Recomenda√ß√£o do Sistema</h2>
      <p class="section-desc">An√°lise automatizada comparando seu portfolio atual com o portfolio ideal, considerando custos de transa√ß√£o.</p>

      <!-- Veredicto do Script C -->
      <div id="optimizedVerdict" class="rebalance-verdict">
        <div class="verdict-icon">‚è≥</div>
        <div class="verdict-text">Carregando recomenda√ß√£o...</div>
      </div>

      <!-- Run ID e Timestamp -->
      <div class="meta-row" style="margin: 10px 0; padding: 8px; background: #2a2a2a; border-radius: 4px; color: #ccc;">
        <small><strong style="color: #fff;">Execu√ß√£o:</strong> <span id="optRunId">‚Äî</span> | <strong style="color: #fff;">Data:</strong> <span id="optTimestamp">‚Äî</span></small>
      </div>

      <!-- Comparativo de Retornos (lado a lado) -->
      <div class="comparison-section" style="margin: 20px 0;">
        <h3 style="margin-bottom: 15px; font-size: 1.1em; color: #333;">üìä Comparativo de Retornos</h3>

        <div class="comparison-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
          <!-- Coluna: Seu Portfolio Atual -->
          <div class="comparison-column" style="background: #1a3a4a; padding: 15px; border-radius: 8px; border-left: 4px solid #17a2b8;">
            <h4 style="margin: 0 0 12px 0; color: #5bc0de; font-size: 0.95em;">üìÅ Seu Portfolio Atual</h4>
            <div class="comparison-metric">
              <span class="label" style="font-size: 0.85em; color: #aaa;">Retorno (Target Prices):</span>
              <span class="value" id="optHoldingsReturn" style="font-size: 1.4em; font-weight: bold; color: #fff;">‚Äî</span>
            </div>
            <p style="font-size: 0.75em; color: #888; margin: 8px 0 0 0;">Baseado nos target prices das a√ß√µes que voc√™ possui</p>
          </div>

          <!-- Coluna: Portfolio Ideal Recomendado -->
          <div class="comparison-column" style="background: #1a3a2a; padding: 15px; border-radius: 8px; border-left: 4px solid #28a745;">
            <h4 style="margin: 0 0 12px 0; color: #5cb85c; font-size: 0.95em;">üéØ Portfolio Ideal (Recomendado)</h4>
            <div class="comparison-metric" style="margin-bottom: 8px;">
              <span class="label" style="font-size: 0.85em; color: #aaa;">Retorno (Target Prices):</span>
              <span class="value" id="optIdealTargetReturn" style="font-size: 1.4em; font-weight: bold; color: #fff;">‚Äî</span>
            </div>
            <div class="comparison-metric">
              <span class="label" style="font-size: 0.85em; color: #aaa;">Retorno Hist√≥rico (Ann.):</span>
              <span class="value" id="optIdealHistoricalReturn" style="font-size: 1.4em; font-weight: bold; color: #5cb85c;">‚Äî</span>
            </div>
            <p style="font-size: 0.75em; color: #888; margin: 8px 0 0 0;">Sharpe: <span id="optIdealSharpe">‚Äî</span></p>
          </div>
        </div>
      </div>

      <!-- M√©tricas de Decis√£o -->
      <div class="decision-metrics" style="margin: 20px 0;">
        <h3 style="margin-bottom: 15px; font-size: 1.1em; color: #333;">‚öñÔ∏è An√°lise de Rebalanceamento</h3>
        <div class="rebalance-metrics-grid" id="optimizedMetrics" style="display:none;">
          <div class="rebalance-metric-card">
            <div class="metric-header">
              <span class="metric-icon">üîÑ</span>
              <span class="metric-title">Retorno Otimizado (L√≠quido)</span>
            </div>
            <div class="metric-value" id="optOptimalReturn">‚Äî</div>
            <div class="metric-detail">Portfolio blended ap√≥s custos de transi√ß√£o</div>
          </div>

          <div class="rebalance-metric-card">
            <div class="metric-header">
              <span class="metric-icon">üìà</span>
              <span class="metric-title">Retorno Excedente</span>
            </div>
            <div class="metric-value" id="optExcessReturn">‚Äî</div>
            <div class="metric-detail">Ganho adicional vs manter atual</div>
          </div>

          <div class="rebalance-metric-card">
            <div class="metric-header">
              <span class="metric-icon">üí∞</span>
              <span class="metric-title">Custo de Transi√ß√£o</span>
            </div>
            <div class="metric-value" id="optTransitionCost">‚Äî</div>
            <div class="metric-detail">Custos estimados para rebalancear</div>
          </div>

          <div class="rebalance-metric-card">
            <div class="metric-header">
              <span class="metric-icon">üéöÔ∏è</span>
              <span class="metric-title">Blend Ratio</span>
            </div>
            <div class="metric-value" id="optBlendRatio">‚Äî</div>
            <div class="metric-detail">% do portfolio ideal no mix √≥timo</div>
          </div>
        </div>
      </div>

      <!-- Transa√ß√µes Recomendadas pelo Script C -->
      <div id="optimizedTransactions" style="display:none;">
        <h3>Transa√ß√µes Recomendadas</h3>
        <div class="table-responsive">
          <table id="optimizedTransactionsTable">
            <thead>
              <tr>
                <th>Ativo</th>
                <th>A√ß√£o</th>
                <th>Peso Atual</th>
                <th>Peso Alvo</th>
                <th>Varia√ß√£o</th>
              </tr>
            </thead>
            <tbody id="optimizedTransactionsBody"></tbody>
          </table>
        </div>
      </div>

      <!-- Gr√°fico de Compara√ß√£o de Retornos -->
      <div class="chart-section" style="margin-top: 20px;">
        <h3>üìà Evolu√ß√£o dos Retornos: Ideal vs Implementado</h3>
        <p class="section-desc">Quando a linha azul est√° <strong>acima</strong> da verde, vale rebalancear. Quando est√° <strong>abaixo</strong>, manter √© a melhor op√ß√£o. O ideal j√° desconta o custo de transi√ß√£o.</p>
        <div class="chart-container" style="height: 350px;">
          <canvas id="returnComparisonChart"></canvas>
        </div>
        <div class="chart-legend" style="margin-top: 10px;">
          <div class="legend-item"><span class="legend-dot" style="background:#2196F3;"></span> Portfolio Ideal (l√≠quido de custos de transi√ß√£o)</div>
          <div class="legend-item"><span class="legend-dot" style="background:#4CAF50;"></span> Portfolio Implementado (suas posi√ß√µes atuais)</div>
        </div>
      </div>
    </section>


    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SE√á√ÉO 7: COMPARA√á√ÉO COM RECOMENDADO
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="comparacao" class="card">
      <h2>Compara√ß√£o com Portfolio Recomendado</h2>
      <div class="comparison-summary">
        <div class="comparison-stat">
          <span class="stat-value" id="matchCount">‚Äî</span>
          <span class="stat-label">A√ß√µes em comum</span>
        </div>
        <div class="comparison-stat">
          <span class="stat-value" id="missingCount">‚Äî</span>
          <span class="stat-label">Faltam comprar</span>
        </div>
        <div class="comparison-stat">
          <span class="stat-value" id="extraCount">‚Äî</span>
          <span class="stat-label">N√£o recomendadas</span>
        </div>
      </div>
      <div class="table-responsive">
        <table id="comparisonTable">
          <thead>
            <tr>
              <th>Ativo</th>
              <th>Status</th>
              <th>Peso Real</th>
              <th>Peso Recomendado</th>
              <th>Diferen√ßa</th>
              <th>A√ß√£o Sugerida</th>
            </tr>
          </thead>
          <tbody id="comparisonBody"></tbody>
        </table>
      </div>
    </section>

    <footer class="footer">
      <small>√öltima atualiza√ß√£o dos dados: <span id="footerDate">‚Äî</span></small>
    </footer>
  </main>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    (function(){
      var s = document.createElement('script');
      s.src = './js/meu_portfolio.js?_=' + Date.now();
      s.defer = true;
      document.body.appendChild(s);
    })();
  </script>
</body>
</html>
