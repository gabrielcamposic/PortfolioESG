<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scoring</title>
    <link rel="stylesheet" href="css/navbar_styles.css"> <!-- Link to the new navbar CSS -->
    <link rel="stylesheet" href="css/styles.css"> <!-- Link to the common stylesheet -->
</head>
<body>
    <div id="navbar-placeholder"></div> <!-- Placeholder for the common navigation bar -->
    
    <div class="main-content"> <!-- Wrapper for content to the right of nav -->
        <h1>Scoring</h1>

        <!-- Latest Run Summary -->
        <div class="stage-block" id="latest-run-summary">
            <h2>Latest Run Summary</h2>
            <p><strong>Date/Time:</strong> <span id="summary-datetime">Loading...</span></p>
            <p><strong>Scoring Version:</strong> <span id="summary-version">Loading...</span></p>
        </div>

        <!-- Top 20 Stocks Table -->
        <div class="stage-block">
            <h2>Top 20 Stocks by Composite Score</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Stock</th><th>Sector</th><th>Industry</th><th>CompositeScore</th><th>SharpeRatio</th><th>PotentialUpside_pct</th><th>Momentum</th><th>CurrentPrice</th><th>TargetPrice</th><th>forwardPE</th><th>SectorMedianPE</th>
                        </tr>
                    </thead>
                    <tbody id="top-stocks-tbody">
                        <tr><td colspan="11">Loading...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Visualizations -->
        <div class="stage-columns">
            <div class="column">
                <div class="stage-block">
                    <h2>Sector Breakdown</h2>
                    <div id="sector-breakdown-chart">Loading...</div>
                </div>
            </div>
            <div class="column">
                <div class="stage-block">
                    <h2>Correlations (Latest Run)</h2>
                    <div id="correlation-matrix">Loading...</div>
                </div>
            </div>
        </div>

        <div class="stage-block">
            <h2>Historical Trends</h2>
            <div id="historical-trends-chart">Loading...</div>
        </div>

    </div> <!-- End of main-content wrapper -->
    
    <script src="js/common_utils.js"></script> <!-- Load common utility functions -->
    <script src="js/common_nav.js"></script> <!-- Load the common navigation script -->
    <script src="js/scoring.js"></script> <!-- Load the scoring-specific JavaScript -->
</body>
</html>